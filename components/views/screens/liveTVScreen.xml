<?xml version="1.0" encoding="UTF-8"?>
<component name="LiveTVScreen" extends="BaseScreen">
    <script type="text/brightscript" uri="pkg:/components/views/screens/liveTVScreen.brs" />
    <interface>
        <field id="content" type="node" alias="video.content" />
        <field id="control" type="string" alias="video.control" />
        <field id="notificationInterval" type="time" alias="video.notificationInterval" />
        <field id="state" type="string" alias="video.state" />
        <field id="position" type="float" alias="video.position" />

        <field id="station" type="node" onChange="onStationChanged" alwaysNotify="true" />
        <field id="channel" type="node" onChange="onChannelChanged" alwaysNotify="true" />
        <field id="menuItemSelected" type="string" alwaysNotify="true" />
        
        <field id="showNowPlaying" type="boolean" alwaysNotify="true" onChange="showNowPlaying" />
        <field id="showChannels" type="boolean" alwaysNotify="true" onChange="showChannelSelection" />
    </interface>
    <children>
        <Group
            id="liveTV"
            visible="false">
            <Video
                id="video"
                width="1920"
                height="1080"
                enableUI="false"
                enableTrickPlay="false"
                notificationInterval="1" />
            <LayoutGroup
                id="unavailable"
                translation="[67,270]"
                layoutDirection="vert"
                itemSpacings="[65]"
                visible="false">
                <CBSLabel
                    text="Station Unavailable"
                    style="kilo"
                    lineSpacing="0" />
                <CBSLabel
                    text="We're sorry, but live TV is not currently supported in your area."
                    width="600"
                    wrap="true"
                    style="deca" />
            </LayoutGroup>
            <Group
                id="overlay">
                <Poster
                    id="darkenTop"
                    width="1920"
                    height="398"
                    uri="pkg:/images/overlay_livetv_top_480.png"
                    visible="false" />
                <Group
                    id="channelOverlay"
                    translation="[0,692]"
                    visible="true">
                    <Poster
                        translation="[0,-200]"
                        width="1920"
                        height="810"
                        uri="pkg:/images/overlay_livetv_bottom_480.png" />
                    <CBSLabel
                        translation="[100,23]"
                        text="Channels"
                        style="deci"
                        weight="bold"
                        vertAlign="top" />
                    <MarkupGrid
                        id="channelGrid"
                        translation="[100,73]"
                        numRows="1"
                        numColumns="4"
                        itemComponentName="ChannelTile"
                        itemSize="[384,216]"
                        itemSpacing="[61,0]"
                        horizFocusAnimationStyle="floatingFocus"
                        drawFocusFeedback="false" />
                </Group>
                <Group
                    id="scheduleOverlay"
                    translation="[0,692]"
                    visible="false">
                    <Poster
                        translation="[0,-200]"
                        width="1920"
                        height="810"
                        uri="pkg:/images/overlay_livetv_bottom_480.png" />
                    <CBSLabel
                        translation="[100,23]"
                        text="Schedule"
                        style="deci"
                        weight="bold"
                        vertAlign="top" />
                    <LayoutGroup
                        translation="[1820,23]"
                        layoutDirection="horiz"
                        itemSpacings="[18]"
                        horizAlignment="right"
                        vertAlignment="center">
                        <CBSLabel
                            id="scheduleChannelName"
                            style="deci"
                            horizAlign="right"
                            wrap="false" />
                        <Poster
                            id="scheduleChannelLogo"
                            height="30"
                            loadDisplayMode="scaleToFit" />
                    </LayoutGroup>
                    <MarkupGrid
                        id="scheduleGrid"
                        translation="[100,73]"
                        numRows="1"
                        numColumns="4"
                        itemComponentName="ScheduleTile"
                        itemSize="[384,216]"
                        itemSpacing="[61,0]"
                        horizFocusAnimationStyle="floatingFocus"
                        drawFocusFeedback="false" />
                    <Poster
                        id="scheduleDismiss"
                        translation="[851,317]"
                        width="218"
                        height="50"
                        uri="pkg:/images/text_dismiss.png" />
                    <Group
                        id="scheduleDetails"
                        translation="[0,355]">
                        
                        <LayoutGroup
                            translation="[67,0]"
                            layoutDirection="horiz"
                            itemSpacings="[0]">
                            <CBSLabel
                                id="scheduleShowTitle"
                                height="60"
                                style="deci"
                                vertAlign="center" />
                            <CBSLabel
                                id="scheduleEpisodeTitle"
                                height="60"
                                style="deci"
                                vertAlign="center" />
                        </LayoutGroup>
                        <CBSLabel
                            id="scheduleDescription"
                            translation="[67,76]"
                            width="1786"
                            wrap="true"
                            maxLines="2"
                            style="centi"
                            vertAlign="center" />
                        <Poster
                            translation="[851,142]"
                            width="218"
                            height="50"
                            uri="pkg:/images/text_dismiss.png" />
                    </Group>
                </Group>
                <Group
                    id="nowPlayingOverlay"
                    translation="[0,906]"
                    visible="false">
                    <Rectangle
                        color="0x000000ee"
                        width="1920"
                        height="400" />
                    <Rectangle
                        color="0x00000000"
                        width="1920"
                        height="60">
                        <LayoutGroup
                            translation="[65,0]"
                            layoutDirection="horiz"
                            itemSpacings="[0]">
                            <CBSLabel
                                id="showTitle"
                                height="60"
                                style="deci"
                                vertAlign="center" />
                            <Label
                                id="episodeTitle"
                                height="60"
                                style="deci"
                                vertAlign="center" />
                        </LayoutGroup>
                        <LayoutGroup
                            translation="[1855,30]"
                            layoutDirection="horiz"
                            itemSpacings="[18]"
                            horizAlignment="right"
                            vertAlignment="center">
                            <CBSLabel
                                id="channelName"
                                style="deci"
                                horizAlign="right" />
                            <Poster
                                id="channelLogo"
                                height="30"
                                loadDisplayMode="scaleToFit" />
                        </LayoutGroup>
                    </Rectangle>
                    <Poster
                        translation="[854,76]"
                        width="212"
                        height="50"
                        uri="pkg:/images/text_schedule.png" />
                </Group>
            </Group>
        </Group>
        <Group
            id="liveTVSelection"
            visible="false">
            <LayoutGroup
                translation="[102,333]"
                layoutDirection="vert"
                itemSpacings="[52]">
                <CBSLabel
                    text="Select Your Local Station"
                    style="kilo" />
                <CBSLabel
                    width="600"
                    text="You can change this at any time by visiting Settings > Live TV."
                    themeColor="fiftyShadesOfCBS"
                    style="deca"
                    wrap="true" />
            </LayoutGroup>
            <Group
                translation="[0,692]"
                visible="true">
                <Poster
                    translation="[0,-200]"
                    width="1920"
                    height="810"
                    uri="pkg:/images/overlay_livetv_bottom_480.png" />
                <CBSLabel
                    translation="[100,23]"
                    text="Channels"
                    style="deci"
                    vertAlign="top" />
                <LabelButtonGroup
                    id="stations"
                    translation="[100,73]"
                    layoutDirection="horiz"
                    itemSpacings="[61]" />
            </Group>
        </Group>
        <LayoutGroup
            id="concurrent"
            translation="[960,540]"
            horizAlignment="center"
            vertAlignment="center"
            visible="false">
            <CBSLabel
                width="1000"
                text="You've reached the maximum number of simultaneous video streams for your account. To view this video, close the other videos you're watching and try again."
                style="deca"
                wrap="true" />
        </LayoutGroup>
        
        <TopMenu
            id="menu"
            focusedID="liveTV" />
        <Timer
            id="updateTimer"
            duration="5"
            repeat="true" />
        <Timer
            id="overlayTimer"
            duration="3.5"
            repeat="false" />
        <Timer
            id="timeoutTimer"
            duration="300"
            repeat="false" />
    </children>
</component>
