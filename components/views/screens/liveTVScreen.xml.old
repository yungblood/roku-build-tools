<?xml version="1.0" encoding="UTF-8"?>
<component name="LiveTVScreen" extends="BaseScreen">
    <script type="text/brightscript" uri="pkg:/components/views/screens/liveTVScreen.brs" />
    <interface>
        <field id="content" type="node" alias="video.content" />
        <field id="control" type="string" alias="video.control" />
        <field id="notificationInterval" type="time" alias="video.notificationInterval" />
        <field id="state" type="string" alias="video.state" />
        <field id="position" type="float" alias="video.position" />

        <field id="station" type="node" onChange="onStationChanged" alwaysNotify="true" />
        <field id="menuItemSelected" type="string" alwaysNotify="true" />
    </interface>
    <children>
        <Font
            id="buttonFont"
            size="24"
            uri="pkg:/fonts/Lato-Regular.ttf" />
        <Group
            id="liveTV"
            visible="false">
            <Video
                id="video"
                width="1920"
                height="1080"
                enableUI="false"
                enableTrickPlay="false"
                notificationInterval="1" />
    
            <Group
                id="overlay">
                <Rectangle
                    id="darken"
                    width="1920"
                    height="1080"
                    color="0x000000c0" />
        
                <Label
                    translation="[96,161]"
                    color="0x0092f3ff"
                    text="LIVE NOW">
                    <Font
                        role="font"
                        size="26"
                        uri="pkg:/fonts/Lato-Bold.ttf" />
                </Label>
                <LayoutGroup
                    translation="[95,204]"
                    layoutDirection="vert"
                    itemSpacings="[20]">
                    <Label
                        id="showTitle"
                        width="600"
                        color="0xffffffff"
                        maxLines="2"
                        lineSpacing="0"
                        wrap="true">
                        <Font
                            role="font"
                            size="42"
                            uri="pkg:/fonts/Lato-Regular.ttf" />
                    </Label>
                    <Label
                        id="episodeTitle"
                        width="600"
                        color="0xb3b1b0ff"
                        wrap="false"
                        height="1">
                        <Font
                            role="font"
                            size="34"
                            uri="pkg:/fonts/Lato-Regular.ttf" />
                    </Label>
                    <!-- Label
                        id="seasonEpisode"
                        width="600"
                        color="0xb3b1b0ff"
                        wrap="false">
                        <Font
                            role="font"
                            size="26"
                            uri="pkg:/fonts/Lato-Regular.ttf" />
                    </Label -->
                    <Label
                        id="description"
                        width="600"
                        color="0xe5e6e7ff"
                        wrap="true"
                        lineSpacing="0"
                        maxLines="8">
                        <Font
                            role="font"
                            size="22"
                            uri="pkg:/fonts/Lato-Regular.ttf" />
                    </Label>
                    <Label
                        id="remaining"
                        width="600"
                        color="0xe5e6e7ff"
                        wrap="true"
                        linespacing="0"
                        maxLines="5">
                        <Font
                            role="font"
                            size="26"
                            uri="pkg:/fonts/Lato-Regular.ttf" />
                    </Label>
        
                    <LabelButton
                        id="watchNow"
                        width="272"
                        height="73"
                        text="WATCH NOW"
                        textColor="0xffffffff"
                        focusedTextColor="0xffffffff"
                        normalOpacity=".6"
                        backgroundUri="pkg:/images/frame_generic.9.png"
                        focusedBackgroundUri="pkg:/images/frame_generic.9.png"
                        font="dictionary:buttonFont" />
                </LayoutGroup>
        
                <Group
                    id="scheduleOverlay"
                    translation="[0,783]">
                    <Rectangle
                        id="scheduleBackground"
                        width="1920"
                        height="318"
                        color="0x000000ff"
                        opacity=".6" />
                    <Rectangle
                        width="450"
                        height="298"
                        color="0x00000000">
                        <LayoutGroup
                            translation="[225,149]"
                            horizAlignment="center"
                            vertAlignment="center">
                            <Poster
                                id="stationLogo"/>
                        </LayoutGroup>
                    </Rectangle>
                    <Label
                        translation="[500,53]"
                        color="0x0092f3ff"
                        text="UP NEXT">
                        <Font
                            role="font"
                            size="26"
                            uri="pkg:/fonts/Lato-Regular.ttf" />
                    </Label>
                    <MarkupGrid
                        id="scheduleGrid"
                        translation="[450,84]"
                        numRows="1"
                        numColumns="5"
                        itemComponentName="ScheduleTile"
                        itemSize="[357,175]"
                        horizFocusAnimationStyle="fixedFocus"
                        drawFocusFeedback="false" />
                    <Poster
                        id="scheduleFocus"
                        translation="[450,0]"
                        width="357"
                        height="297"
                        uri="pkg:/images/frame_grid.9.png"
                        visible="false" />
                </Group>
            </Group>
        </Group>
        <Group
            id="liveTVSelection"
            visible="false">
            <LayoutGroup
                translation="[102,400]"
                layoutDirection="vert"
                itemSpacings="[40]">
                <Label
                    text="Watch LIVE TV"
                    color="0xffffffff">
                    <Font
                        role="font"
                        size="60"
                        uri="pkg:/fonts/Lato-Regular.ttf" />
                </Label>
                <LabelButtonGroup
                    id="stations"
                    layoutDirection="horiz"
                    itemSpacings="[20]" />
            </LayoutGroup>
        </Group>
        <LayoutGroup
            id="unavailable"
            translation="[960,540]"
            horizAlignment="center"
            vertAlignment="center"
            visible="false">
            <Label
                width="1000"
                text="Live TV streams are currently not available in your area. Be sure to check back as we are always adding more stations."
                color="0xffffffff"
                opacity=".75"
                wrap="true"
                lineSpacing="0">
                <Font
                    role="font"
                    size="42"
                    uri="pkg:/fonts/Lato-Regular.ttf" />
            </Label>
        </LayoutGroup>
        <LayoutGroup
            id="concurrent"
            translation="[960,540]"
            horizAlignment="center"
            vertAlignment="center"
            visible="false">
            <Label
                width="1000"
                text="You've reached the maximum number of simultaneous video streams for your account. To view this video, close the other videos you're watching and try again."
                color="0xffffffff"
                opacity=".75"
                wrap="true"
                lineSpacing="0">
                <Font
                    role="font"
                    size="42"
                    uri="pkg:/fonts/Lato-Regular.ttf" />
            </Label>
        </LayoutGroup>
        
        <TopMenu
            id="menu"
            focusedID="liveTV" />
        <Timer
            id="updateTimer"
            duration="5"
            repeat="true" />
        <Timer
            id="overlayTimer"
            duration="12"
            repeat="false" />
        <Timer
            id="timeoutTimer"
            duration="300"
            repeat="false" />
    </children>
</component>
