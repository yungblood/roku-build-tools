<?xml version="1.0" encoding="UTF-8"?>
<component name="DynamicPlayMarqueeTile" extends="Group">
    <script type="text/brightscript" uri="pkg:/components/views/widgets/tiles/dynamicPlayMarqueeTile.brs" />
    <script type="text/brightscript" uri="pkg:/components/shared/utils.brs" />
        
    <script type="text/brightscript" uri="pkg:/source/framework/utilities/general.brs" />
    <script type="text/brightscript" uri="pkg:/source/framework/utilities/strings.brs" />
    <script type="text/brightscript" uri="pkg:/source/framework/utilities/types.brs" />
    <script type="text/brightscript" uri="pkg:/source/framework/utilities/device.brs" />
    
    <interface>
        <field id="show" type="node" onChange="onShowChanged" />
        <field id="update" type="boolean" onChange="updateContent" alwaysNotify="true" />
        <field id="episode" type="node" />
        <field id="contentLoaded" type="boolean" alwaysNotify="true" />
        <field id="vilynxControl" type="string" onChange="onVilynxControlChanged" alwaysNotify="true" />

        <field id="buttonSelected" type="string" alwaysNotify="true" />
    </interface>
    <children>
        <Font
            id="titleFont"
            size="60"
            uri="pkg:/fonts/Lato-Black.ttf" />
        <Font
            id="episodeFont"
            size="42"
            uri="pkg:/fonts/Lato-Regular.ttf" />
        <Font
            id="descriptionFont"
            size="28"
            uri="pkg:/fonts/Lato-Regular.ttf" />
        <Font
            id="timeIndicatorFont"
            size="20"
            uri="pkg:/fonts/Lato-Bold.ttf" />
            
        <Font
            id="buttonFont"
            size="26"
            uri="pkg:/fonts/Lato-Regular.ttf" />
        
        <FadeInPoster
            id="hero"
            width="1920"
            height="1080"
            loadDisplayMode="scaleToZoom"
            visible="false" />
        <Group
            id="previewGroup" />

        <LayoutGroup
            id="metadata"
            layoutDirection="vert"
            itemSpacings="[0]"
            translation="[100,297]" >
            <Label
                id="showTitle"
                width="800"
                font="dictionary:titleFont"
                maxLines="2"
                wrap="true"
                lineSpacing="-20"
                color="0xffffffff" />
            <Rectangle
                width="1"
                height="26"
                color="0x00000000" />
            <Label
                id="episodeTitle"
                width="896"
                font="dictionary:episodeFont"
                wrap="false"
                color="0xffffffff" />
            <Label
                id="episodeNumber"
                width="896"
                font="dictionary:episodeFont"
                wrap="false"
                color="0xffffffff" />
            <Rectangle
                id="progressSpacer"
                width="1"
                height="10"
                color="0x00000000" />
            <Group
                id="progress">
                <Label
                    id="timeIndicator"
                    translation = "[755,-11]"
                    width="140"
                    font="dictionary:timeIndicatorFont"
                    color="0xffffffff"
                    opacity = "0.50" />
                <ProgressBar
                    id="progressBar"
                    width="735"
                    height="4"
                    backgroundColor="0xffffff80"
                    barColor="0x0092f3ff"
                    visible="false" />
                <Rectangle
                    width="1"
                    height="26"
                    color="0x00000000" />
            </Group>
            <Label
                id="description"
                width="896"
                font="dictionary:descriptionFont"
                maxLines="3"
                lineSpacing="2"
                wrap="true"
                color="0xffffffff" />
        </LayoutGroup>
        <LabelButton
            id="ctaButton"
            translation="[100,720]"
            width="600"
            height="88"
            text=""
            backgroundUri="pkg:/images/frame_generic.9.png"
            focusedBackgroundUri="pkg:/images/button_focus.9.png"
            font="dictionary:buttonFont"
            processKeyEvents="false"
            visible="false" />

        <Animation
            id="vilynxFadeOutAnimation"
            duration=".1"
            delay="0"
            repeat="false">
            <FloatFieldInterpolator
                key="[0,1]"
                keyValue="[1,0]"
                fieldToInterp="vilynxPreview.opacity" />
        </Animation>
        <Animation
            id="vilynxFadeInAnimation"
            duration=".1"
            delay="0"
            repeat="false">
            <FloatFieldInterpolator
                key="[0,1]"
                keyValue="[0,1]"
                fieldToInterp="vilynxPreview.opacity" />
        </Animation>
    </children>
</component>
